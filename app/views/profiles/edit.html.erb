<div class="row justify-content-center">
  <div class="col-md-6 mt-3">
    <div class="card shadow">
      <div class="card-body">
        <h1 class="card-title text-center">Edit Your Profile</h1>
        <div class="mt-3">
          <%= simple_form_for @profile, url: profile_path(@profile), method: :patch do |form| %>
            <!-- Display the current profile picture -->
            <% if @profile.photo.attached? %>
              <div class="text-center mb-3">
                <%= cl_image_tag @profile.photo.key, class: "photo-profile-img", width: 250, height: 250, crop: :thumb %>
              </div>
              <div class="text-center">
                <%= link_to remove_profile_image_path(@profile), data: { turbo_method: :delete, confirm: "Are you sure you want to delete the picture?"}, class: "btn btn-danger", "turbo-frame": "profile-form-frame" do %> <!-- Allow the user to remove the profile picture -->
                  <i class="fas fa-trash-alt"></i> Delete Photo
                <% end %>
              </div>
            <% else %>
              <div class="text-center mb-3">
                <%= image_tag "https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png", class: "avatar", alt: "default picture" %> <!-- Display a default profile picture if the user doesn't have one -->
              </div>
              <div class="text-center">
                <%= form.input :photo, as: :file, label: 'Profile image', class: 'form-control-file' %> <!-- Allow the user to upload a profile picture -->
              </div>
            <% end %>
            <div class="form-group">
              <%= form.input :first_name, label: "First Name", class: "form-control" %>
            </div>
            <div class="form-group">
              <%= form.input :last_name, label: "Last Name", class: "form-control" %>
            </div>
            <div class="form-group">
              <%= form.input :description, label: "Description", class: "form-control" %>
            </div>
            <div class="form-group">
              <%= form.input :age, label: "Age", class: "form-control" %>
            </div>
            <div class="text-center">
              <%= form.button :submit, "Save Changes", class: "btn btn-primary" %>
              <%= link_to "Delete Profile", profile_path(@profile), data: { turbo_method: :delete, confirm: "Are you sure?" }, class: "btn btn-danger" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
